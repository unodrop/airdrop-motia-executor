---
description: Telegram 推送消息样式规范（定投提醒、Pharos 等）
globs: src/services/notification.ts,src/utils/telegram.ts
alwaysApply: false
---

# 推送样式规范

编辑 `notification.ts` 或构建 Telegram 推送文案时，按以下规范优化可读性。

## 使用 Telegram 格式

- **定投提醒、流程结果等关键通知**：使用 `parse_mode: 'HTML'`，便于标题加粗、结论突出。
- **纯日志/简单文本**：可继续使用 `parse_mode: undefined`。

## HTML 约定

- 标题：`<b>标题</b>`，单独一行。
- 结论（适合/不适合、成功/失败）：用 `<b>` 标出，便于一眼扫到。
- 数值（价格、MA、RSI）：可与标签同一行，用空格或竖线分隔，避免堆叠过多短行。
- 必须对内容中的 `<`、`>`、`&` 做转义（`&lt;`、`&gt;`、`&amp;`），再交给 Telegram。

## 定投提醒结构示例

```
<b>黄金 定投提醒</b>
黄金 5067.50 · MA20 4748.54 · RSI 74
<b>暂不适合</b> RSI(74) 偏高，暂不适合加仓
```

- 第一行：加粗标题。
- 第二行：标的 + 价格 + 关键指标一行展示（可用 · 或 | 分隔）。
- 第三行：加粗结论（适合定投 / 暂不适合）+ 简短原因。

多标的（如纳指、标普）时，每个标的一行指标 + 一行结论，中间可空一行区分。

## 避免

- 不在同一句内混用过多 emoji，保持专业可读。
- 不在未转义的情况下向 HTML 内容拼接用户输入或外部文案。
